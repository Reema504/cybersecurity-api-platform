# Cybersecurity API Platform (Senior Level Proof)

This project demonstrates a robust, scalable, and secure platform for managing and executing cybersecurity system tools (Ping, Nmap). It is designed to run long-running tasks asynchronously to maintain high API responsiveness.

## 🌟 Features

* Run `ping` commands against any hostname.
* Run fast `nmap` port scans (`-F`) against any hostname.
* All results are automatically saved to a PostgreSQL database with timestamps.
* RESTful API endpoints to view the history of all previous scans (`/history/ping`, `/history/nmap`).
* Includes basic DoS protection using rate limiting.

## 🛠️ Technologies Used

* **Backend:** Python 3.9
* **API Framework:** FastAPI
* **Database:** PostgreSQL
* **Containerization:** Docker & Docker Compose
* **ORM:** SQLAlchemy (for database interaction)
* **Web Server:** Uvicorn

## 🔧 How to Run Locally (Using Docker)

1.  **Prerequisites:** Ensure you have Docker and Docker Compose installed.
2.  **Clone the repository:**
    ```bash
    git clone [https://github.com/Reema504/cybersecurity-api-platform.git](https://github.com/Reema504/cybersecurity-api-platform.git)
    cd cybersecurity-api-platform
    ```
3.  **Build and run the containers:**
    ```bash
    docker-compose up --build
    ```
4.  The application will be accessible at `http://127.0.0.1:8000`.

## 📋 API Endpoints

| Method | Endpoint | Description |
| :--- | :--- | :--- |
| GET | `/ping/{hostname}` | Runs a ping command against the hostname. |
| GET | `/scan/nmap/{hostname}` | Runs an Nmap scan (`-F`) against the hostname. |
| GET | `/history/ping` | Shows the history of all ping results. |
| GET | `/history/nmap` | Shows the history of all Nmap results. |

Example Ping Result (`/ping/google.com`):
```json
{
"hostname": "google.com",
"output": "PING google.com (142.250.184.142) 56(84) bytes of data.\n64 bytes from lhr48s23-in-f14.1e100.net (142.250.>"
}





## Security Assurance: Command Injection Prevention

The platform is secured against Command Injection vulnerabilities. This critical security measure is achieved by strictly adhering to Python's best practices for running system commands:

* **1. Strict Subprocess Usage:** All system commands (ping, nmap) are executed using subprocess.run().
* **2. Shell=False (Default):** The shell=True parameter is explicitly avoided. This ensures that user inputs are passed as isolated arguments, preventing concatenation of user input with executable code.
* **3. Input Segregation:** Inputs are passed as a list of arguments, preventing concatenation of user input with executable code.

## Code Quality & Test Coverage

To guarantee code reliability and compensate for potential human errors, this project maintains rigorous test coverage.

* Test Type: Unit/Integration
* Technology: Pytest
* Coverage Goal: > 80%
* Status: **80% Coverage**


The full interactive Code Coverage report (HTML) is generated by pytest-cov and is available in the `htmlcov/index.html` file after running tests with `pytest --cov`.

